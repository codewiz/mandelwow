[package]
name = "mandelwow"
version = "0.5.0"
authors = ["Bernie Innocenti <bernie@codewiz.org>"]
license = "GPL-3.0+"

[profile.release]
#lto = true
panic = 'abort'

[dependencies]
cgmath = "*"
glium = "0.16.0"
glutin = "0.7.4"
genmesh = "0.4.1"
image = { version = "0.13.0", features = ["png_codec"] }
obj = { version = "0.5", features = ["usegenmesh"] }
libxm = "1.0.0"
sdl2 = "*"

[target.'cfg(not(target_os = "emscripten"))'.dependencies]
backtrace = "0.2.2"
backtrace-sys = "0.1.10"

[target.'cfg(target_os = "emscripten")'.dependencies]
backtrace = "0.2.3"

[replace]
"backtrace:0.2.3" = { git = "https://github.com/badboy/backtrace-rs", branch = "emscripten-fix" }
"glutin:0.7.4" = { path = "/home/bernie/src/glutin" }
"glium:0.16.0" = { path = "/home/bernie/src/glium" }

[[bin]]
name = "mandelwow"
path = "main.rs"
